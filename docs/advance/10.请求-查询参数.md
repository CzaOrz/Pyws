---
title: 请求-查询参数
hide_title: true
hide_table_of_contents: false
slug: request-query-params
---

```shell script
curl http://127.0.0.1:8080/query?pageSize=10&pageNum=1&name=pywss
```
在以上 URL 中，我们可以看到**查询参数**为：
- **pageSize**：对应值为 10
- **pageNum**：对应值为 1
- **name**：对应值为 pywss

在 Pywss 中，他们将转化为字典并存储在 `ctx.url_params` 中。
```shell script
>>> print(ctx.url_params)
{
  "pageSize": "10",
  "pageNum": "1",
  "name": "pywss"
}
```
需要注意的是，Pywss 并没有做任何类型转化的操作，你获取到的将是最原始的 str 类型。

在此用例中，我们明显可以看出 pageSize 和 pageNum 属于 int 类型。在某些场景下，我们可以借助三方包来解决类型转化与校验问题，此处以 pydantic 举例。

```python showLineNumbers {11}
import pywss

from pydantic import BaseModel

class HttpGetRequest(BaseModel):
    pageSize: int
    pageNum: int
    name: str

def query(ctx: pywss.Context):
    req = HttpGetRequest(**ctx.url_params)

app = pywss.App()
app.get("/query", query)
app.run()
```


## 重复查询参数
在某些场景下，查询参数可能会存在重复 key 值的情况。比如：
```shell script
curl http://127.0.0.1:8080/query?name=pywss&version=v0.1.18&version=v0.1.17
```
在此 URL 中，我们可以看到指定了两个 version 参数。

或许用户的意思是希望查询 pywss 的 v0.1.18 版本和 v0.1.17 版本的信息。

对于这种情况，Pywss 将原本的 `str` 改成 `list` 并将其全部存储。也就是说在 `ctx.url_params` 中，你将看到以下值：
```shell script
>>> print(ctx.url_params)
{
  "name": "pywss",
  "version": ["v0.1.18", "v0.1.17"]
}
```

---
title: 请求-数据
hide_title: true
hide_table_of_contents: false
slug: request-data
---

## Byte数据
```python
import requests

reqoests.post(
    "http://localhost:8080/byte",
    data="hello world" * 100
)
```
对于以上请求，我们可以通过 `ctx.body()` 获取原始 `byte` 数据


## Json数据
```python
import requests

reqoests.post(
    "http://localhost:8080/byte",
    json={
        "name": "pywss",
    }
)
```
对于以上请求，我们可以通过 `ctx.json()` 获取数据。

其源码简单粗暴：
```python {2}
def json(self):
    return json.loads(self.body().decode())
```
完全不考虑 `Content-Type` 是否满足 `application/json`

## Form数据
```python
import requests

reqoests.post(
    "http://localhost:8080/byte",
    data={
        "name": "pywss",
    }
)
```
对于以上请求，我们可以通过 `ctx.form()` 获取数据。

对于表单请求，主要有：
- `x-www-form-urlencoded`：未指定属性时的默认值
- `form-data`：当表单包含 `file` 属性时

所以在 Pywss 中，`ctx.form()` 主要针对的是 `x-www-form-urlencoded` 类型数据的解析。

当然，`form-data` 也是可以解析的，但是会将其转化为 `str` 类型，并存储在表单结构中。

这对于一些 byte 类型的数据可能会造成乱码。这种时候推荐使用 `ctx.file()` 来获取原生 byte 数据。

## File数据
待补充

## Stream
待补充
